@using Build_a_PC_Sales_Deal_Hunter.Models;
@model SummaryItemModel
@{
    ViewBag.Title = "Home Page";
}

<script type="text/javascript">
    var items = null;
    $(document).ready(function ()
    {
        var submission = '@Convert.ToBoolean(ViewData["submit"])';
        if (submission == "True")
        {
            swal("Success!", "Email Address Submitted!", "success");
            @ViewData["submit"] = "False";
        }

        items = ['CASE', 'CONTROLLER', "COOLER", "CPU", "FAN",
    "GPU", "HDD", "HEADPHONES", "KEYBOARD", "MONITOR",
    "MOUSE", "PSU", "RAM", "SSD", "MOBO", '@Model[0].Query',
    '@Model[1].Query', '@Model[2].Query', '@Model[3].Query', '@Model[4].Query'
        ];

        $('#bar-1').jqbar({ label: '@Model[0].Query', barColor: '#FF681F', value: '@Model[0].Count', orientation: 'v' });
        $('#bar-2').jqbar({ label: '@Model[1].Query', barColor: '#3a89c9', value: '@Model[1].Count', orientation: 'v' });
        $('#bar-3').jqbar({ label: '@Model[2].Query', barColor: '#ea805c', value: '@Model[2].Count', orientation: 'v' });
        $('#bar-4').jqbar({ label: '@Model[3].Query', barColor: '#88bbc8', value: '@Model[3].Count', orientation: 'v' });
        $('#bar-5').jqbar({ label: '@Model[4].Query', barColor: '#939393', value: '@Model[4].Count', orientation: 'v' });
    });
</script>
<script src="~/Scripts/Index.js" type="text/javascript"></script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Build a PC Sales Index Page -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6457035320583527"
     data-ad-slot="9307047693"
     data-ad-format="auto"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="jumbotron" style="background-color:#d9d9d9">
        <h1>Build A PC Sales Email Service</h1>
        <h3>Receive immediate deal alerts</h3>
        <p style="font-size:small"> Hey all! I've been lurking through this subreddit for about a month and a half so far and it hasn't taken me long to learn that some of the best deals only last for short amounts of time and every second counts (as seen <a href="https://www.reddit.com/r/buildapcsales/comments/3v1mjo/gpu_evga_gtx_970_ftw_25068_first_purchase_promo/cxjk40v">here</a>).
            having experienced this frustration of missing out on deals first hand, I've decided to create a utility for the people of <a href="https://www.reddit.com/r/buildapcsales/">r/buildapcsales/</a> to send out email notifications of deals as soon as they happen.
            I present you: Build a PC Sales Deal Hunter. Never mind the URL name, it was a joke URL for an Entrepreneurship class last semester.
            Along with this utility, I also have uploaded the source code to <a href="https://github.com/reserad/Build-a-PC-Sales-Deal-Hunter">Github</a> for all you code junkies out there.</p>
        <div class="form-group">
            <input placeholder="Email Address" required type="email" name="email" id="email" />
            <button type="button" id="btnAddPreference" class="btn btn-info">Add Querys <span class="glyphicon glyphicon-plus-sign"></span></button>
            <button type="button" onclick="IndividualTask($('#email').val())" class="btn btn-primary">View Querys <span class="glyphicon glyphicon-edit"></span></button>
            <button disabled="disabled" type="submit" class="btn btn-success">Submit <span class="glyphicon glyphicon-envelope"></span></button>
            <button type="button" data-toggle="modal" data-target=".quit" class="btn btn-warning">Quit Service <span class="glyphicon glyphicon-minus-sign"></span></button>
            <table id="fields"></table>
        </div>
    </div>
    <div class="alert alert-info" role="alert">Here's what others have searched</div>
            <div class="bars">
                <div id="bar-1">
                </div>
                <div id="bar-2">
                </div>
                <div id="bar-3">
                </div>
                <div id="bar-4">
                </div>
                <div id="bar-5">
                </div>
            </div>
}

<div class="modal fade quit" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="gridSystemModalLabel">Quit emailing service?</h4>
            </div>
            <div class="modal-body">
                If your provided email address is found, it will be purged and you will no longer obtain the very latest deals from r/buildapcsales/!
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="RemoveEmail($('#email').val())">Remove Email</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade showQueries" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="gridSystemModalLabel">Records found via email address</h4>
            </div>
            <div class="modal-body">
                <table class="table table-striped table-bordered" cellpadding="10" border="1" id="dataTable">
                    <thead style="background-color:#B8D4FF">
                        <tr>
                            <th style="vertical-align:middle;">Query</th>
                            <th style="vertical-align:middle;">Price</th>
                            <th style="vertical-align:middle;">Delete</th>
                        </tr>
                    </thead>
                    <tbody id="queriesBody"></tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>
            </div>
        </div>
    </div>
</div>